C++ = g++ifndef os   os = LINUXendififndef arch   arch = IA32endifCCFLAGS = -Wall -D$(os) -I../src -finline-functions -O3ifeq ($(arch), IA32)   CCFLAGS += -DIA32 #-mcpu=pentiumpro -march=pentiumpro -mmmx -msseendififeq ($(arch), POWERPC)   CCFLAGS += -mcpu=powerpcendififeq ($(arch), IA64)   CCFLAGS += -DIA64endififeq ($(arch), SPARC)   CCFLAGS += -DSPARCendifLDFLAGS = -L../src -ludt -lstdc++ -lpthread -lmifeq ($(os), UNIX)   LDFLAGS += -lsocketendififeq ($(os), SUNOS)   LDFLAGS += -lrt -lsocketendifDIR = $(shell pwd)APP = appserver appclient sendfile recvfile test server clientall: $(APP)%.o: %.cpp	$(C++) $(CCFLAGS) $< -cappserver: appserver.o	$(C++) $^ -o $@ $(LDFLAGS)appclient: appclient.o	$(C++) $^ -o $@ $(LDFLAGS)sendfile: sendfile.o	$(C++) $^ -o $@ $(LDFLAGS)recvfile: recvfile.o	$(C++) $^ -o $@ $(LDFLAGS)test: test.o	$(C++) $^ -o $@ $(LDFLAGS)server: server.o	$(C++) $^ -o $@ $(LDFLAGS)client: client.o	$(C++) $^ -o $@ $(LDFLAGS)clean:	rm -f *.o $(APP)install:	export PATH=$(DIR):$$PATH